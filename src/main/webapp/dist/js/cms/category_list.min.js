function NovelCategory(){}NovelCategory.prototype.listenAddCategoryEvent=function(){$("#add-btn").click(function(){xfzalert.alertOneInput({title:"添加分类",text:"请输入分类名称",placeholder:"分类名称",confirmCallback:function(t){myajax.post({url:"/cms/add_novel_category/",data:{name:t},success:function(t){200===t.code?(xfzalert.alertSuccessToast("添加成功"),setTimeout(function(){window.location.reload()},1e3)):xfzalert.close()}})}})})},NovelCategory.prototype.listenEditCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-id"),o=t.attr("data-name");xfzalert.alertOneInput({title:"修改分类名称",text:"请输入分类的新名称",value:o,confirmCallback:function(t){console.log("id: "+e),console.log("name: "+t),myajax.post({url:"/cms/edit_novel_category/",data:{id:e,name:t},success:function(t){200===t.code?(xfzalert.alertSuccessToast("修改成功！"),setTimeout(function(){window.location.reload()},1e3)):xfzalert.close()}})}})})},NovelCategory.prototype.listenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var t=$(this).parent().parent().attr("data-id");xfzalert.alertConfirm({title:"删除分类",text:"您确定要删除该分类吗？",confirmCallback:function(){myajax.post({url:"/cms/delete_novel_category/",data:{id:t},success:function(t){200===t.code?(xfzalert.alertSuccessToast("删除成功"),setTimeout(function(){window.location.reload()},1e3)):xfzalert.close()}})},cancelCallback:function(){xfzalert.close()}})})},NovelCategory.prototype.run=function(){this.listenAddCategoryEvent(),this.listenEditCategoryEvent(),this.listenDeleteCategoryEvent()},$(function(){(new NovelCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY21zL2NhdGVnb3J5X2xpc3QubWluLmpzIiwic291cmNlcyI6WyJjbXMvY2F0ZWdvcnlfbGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOb3ZlbENhdGVnb3J5KCl7XHJcblxyXG59XHJcblxyXG4vLyDnm5HlkKzmt7vliqDliIbnsbvkuovku7ZcclxuTm92ZWxDYXRlZ29yeS5wcm90b3R5cGUubGlzdGVuQWRkQ2F0ZWdvcnlFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgYWRkQnRuID0gJChcIiNhZGQtYnRuXCIpO1xyXG4gICAgYWRkQnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRPbmVJbnB1dCh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfmt7vliqDliIbnsbsnLFxyXG4gICAgICAgICAgICAndGV4dCc6ICfor7fovpPlhaXliIbnsbvlkI3np7AnLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInOiAn5YiG57G75ZCN56ewJyxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uKGlucHV0VmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgbXlhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9hZGRfbm92ZWxfY2F0ZWdvcnkvJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiBpbnB1dFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzc1RvYXN0KFwi5re75Yqg5oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbi8vIOebkeWQrOe8lui+keWIhuexu+S6i+S7tlxyXG5Ob3ZlbENhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgZWRpdEJ0biA9ICQoJy5lZGl0LWJ0bicpO1xyXG4gICAgZWRpdEJ0bi5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBjdXJyZW50QnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50QnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciBpZCA9IHRyLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICB2YXIgbmFtZSA9IHRyLmF0dHIoJ2RhdGEtbmFtZScpO1xyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0T25lSW5wdXQoe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAn5L+u5pS55YiG57G75ZCN56ewJyxcclxuICAgICAgICAgICAgJ3RleHQnOiAn6K+36L6T5YWl5YiG57G755qE5paw5ZCN56ewJyxcclxuICAgICAgICAgICAgJ3ZhbHVlJzogbmFtZSxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uKGlucHV0VmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2lkOiAnK2lkKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCduYW1lOiAnK2lucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbXlhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9lZGl0X25vdmVsX2NhdGVnb3J5LycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IGlucHV0VmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24ocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3NUb2FzdCgn5L+u5pS55oiQ5Yqf77yBJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LDEwMDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbi8vIOebkeWQrOWIoOmZpOWIhuexu+S6i+S7tlxyXG5Ob3ZlbENhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBkZWxldGVCdG4gPSAkKCcuZGVsZXRlLWJ0bicpXHJcbiAgICBkZWxldGVCdG4uY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudEJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgaWQgPSB0ci5hdHRyKFwiZGF0YS1pZFwiKTtcclxuICAgICAgICB4ZnphbGVydC5hbGVydENvbmZpcm0oe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAn5Yig6Zmk5YiG57G7JyxcclxuICAgICAgICAgICAgJ3RleHQnOiAn5oKo56Gu5a6a6KaB5Yig6Zmk6K+l5YiG57G75ZCX77yfJyxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBteWFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL2RlbGV0ZV9ub3ZlbF9jYXRlZ29yeS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiBpZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzc1RvYXN0KCfliKDpmaTmiJDlip8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2NhbmNlbENhbGxiYWNrJzogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuTm92ZWxDYXRlZ29yeS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKXtcclxuICAgIHRoaXMubGlzdGVuQWRkQ2F0ZWdvcnlFdmVudCgpO1xyXG4gICAgdGhpcy5saXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCgpO1xyXG4gICAgdGhpcy5saXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50KCk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgbm92ZWxDYXRlZ29yeSA9IG5ldyAgTm92ZWxDYXRlZ29yeSgpO1xyXG4gICAgbm92ZWxDYXRlZ29yeS5ydW4oKTtcclxufSk7Il0sIm5hbWVzIjpbIk5vdmVsQ2F0ZWdvcnkiLCJwcm90b3R5cGUiLCJsaXN0ZW5BZGRDYXRlZ29yeUV2ZW50IiwiJCIsImNsaWNrIiwieGZ6YWxlcnQiLCJhbGVydE9uZUlucHV0IiwidGl0bGUiLCJ0ZXh0IiwicGxhY2Vob2xkZXIiLCJjb25maXJtQ2FsbGJhY2siLCJpbnB1dFZhbHVlIiwibXlhamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJuYW1lIiwic3VjY2VzcyIsInJlc3VsdCIsImFsZXJ0U3VjY2Vzc1RvYXN0Iiwic2V0VGltZW91dCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY2xvc2UiLCJsaXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCIsInRyIiwidGhpcyIsInBhcmVudCIsImlkIiwiYXR0ciIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsImxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQiLCJhbGVydENvbmZpcm0iLCJjYW5jZWxDYWxsYmFjayIsInJ1biJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsaUJBS1RBLGNBQWNDLFVBQVVDLHVCQUF5QixXQUNoQ0MsRUFBRSxZQUNSQyxNQUFNLFdBQ1RDLFNBQVNDLGNBQWMsQ0FDbkJDLE1BQVMsT0FDVEMsS0FBUSxVQUNSQyxZQUFlLE9BQ2ZDLGdCQUFtQixTQUFTQyxHQUN4QkMsT0FBT0MsS0FBSyxDQUNSQyxJQUFPLDJCQUNQQyxLQUFRLENBQ0pDLEtBQVFMLEdBRVpNLFFBQVcsU0FBU0MsR0FDTSxNQUFuQkEsRUFBYSxNQUNaYixTQUFTYyxrQkFBa0IsUUFDM0JDLFdBQVcsV0FDUEMsT0FBT0MsU0FBU0MsVUFDbEIsTUFFRmxCLFNBQVNtQixpQkFVckN4QixjQUFjQyxVQUFVd0Isd0JBQTBCLFdBQ2hDdEIsRUFBRSxhQUNSQyxNQUFNLFdBQ1YsSUFDSXNCLEVBRGF2QixFQUFFd0IsTUFDQ0MsU0FBU0EsU0FDekJDLEVBQUtILEVBQUdJLEtBQUssV0FDYmQsRUFBT1UsRUFBR0ksS0FBSyxhQUNuQnpCLFNBQVNDLGNBQWMsQ0FDbkJDLE1BQVMsU0FDVEMsS0FBUSxZQUNSdUIsTUFBU2YsRUFDVE4sZ0JBQW1CLFNBQVNDLEdBQ3hCcUIsUUFBUUMsSUFBSSxPQUFPSixHQUNuQkcsUUFBUUMsSUFBSSxTQUFTdEIsR0FDckJDLE9BQU9DLEtBQUssQ0FDUkMsSUFBTyw0QkFDUEMsS0FBUSxDQUNKYyxHQUFNQSxFQUNOYixLQUFRTCxHQUVaTSxRQUFXLFNBQVNDLEdBQ00sTUFBbkJBLEVBQWEsTUFDWmIsU0FBU2Msa0JBQWtCLFNBQzNCQyxXQUFXLFdBQ1BDLE9BQU9DLFNBQVNDLFVBQ2xCLE1BRUZsQixTQUFTbUIsaUJBVXJDeEIsY0FBY0MsVUFBVWlDLDBCQUE0QixXQUNoQy9CLEVBQUUsZUFDUkMsTUFBTSxXQUNaLElBRUl5QixFQUZhMUIsRUFBRXdCLE1BQ0NDLFNBQVNBLFNBQ2pCRSxLQUFLLFdBQ2pCekIsU0FBUzhCLGFBQWEsQ0FDbEI1QixNQUFTLE9BQ1RDLEtBQVEsY0FDUkUsZ0JBQW1CLFdBQ2ZFLE9BQU9DLEtBQUssQ0FDUkMsSUFBTyw4QkFDUEMsS0FBUSxDQUNKYyxHQUFNQSxHQUVWWixRQUFXLFNBQVNDLEdBQ00sTUFBbkJBLEVBQWEsTUFDWmIsU0FBU2Msa0JBQWtCLFFBQzNCQyxXQUFXLFdBQ1BDLE9BQU9DLFNBQVNDLFVBQ2xCLE1BRUZsQixTQUFTbUIsWUFLekJZLGVBQWtCLFdBQ2QvQixTQUFTbUIsY0FNekJ4QixjQUFjQyxVQUFVb0MsSUFBTSxXQUMxQlYsS0FBS3pCLHlCQUNMeUIsS0FBS0YsMEJBQ0xFLEtBQUtPLDZCQUdUL0IsRUFBRSxZQUNzQixJQUFLSCxlQUNYcUMifQ==
