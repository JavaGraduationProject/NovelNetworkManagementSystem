function Chapter(){}Chapter.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(t){t.preventDefault();var e=$(this),n=e.attr("data-chapter-id"),r=e.attr("data-novel-id"),o=$("input[name='title']").val(),i=window.ue.getContent(),a=$("#number").text(),u="",p="",p=n?(u="/account/update_chapter/","第"+a+"章小说编辑成功！"):(u="/account/add_chapter/","第"+a+"章小说发布成功！");myajax.post({url:u,data:{title:o,content:i,novel_id:r,number:a,id:n},success:function(t){200===t.code?xfzalert.alertSuccess(p,function(){window.location="../../../.."}):console.log(t)}})})},Chapter.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},Chapter.prototype.run=function(){this.initUEditor(),this.listenSubmitEvent()},$(function(){(new Chapter).run(),Chapter.progressGroup=$("#progress-group"),Chapter.progressBar=$(".progress-bar")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3VudC93cml0ZV9jaGFwdGVyLm1pbi5qcyIsInNvdXJjZXMiOlsiYWNjb3VudC93cml0ZV9jaGFwdGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENoYXB0ZXIoKXtcclxuXHJcbn1cclxuXHJcblxyXG4vLyDmj5DkuqTnq6DoioJcclxuQ2hhcHRlci5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoJyNzdWJtaXQtYnRuJyk7XHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7ICAgICAgIC8vIOmYu+atoum7mOiupOS6i+S7tlxyXG4gICAgICAgIHZhciBidG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjaGFwdGVySWQgPSBidG4uYXR0cignZGF0YS1jaGFwdGVyLWlkJyk7XHJcbiAgICAgICAgdmFyIG5vdmVsSWQgPSBidG4uYXR0cignZGF0YS1ub3ZlbC1pZCcpO1xyXG4gICAgICAgIHZhciB0aXRsZSA9ICQoXCJpbnB1dFtuYW1lPSd0aXRsZSddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gd2luZG93LnVlLmdldENvbnRlbnQoKTtcclxuICAgICAgICB2YXIgbnVtYmVyID0gJCgnI251bWJlcicpLnRleHQoKTtcclxuICAgICAgICB2YXIgdXJsID0gXCJcIjtcclxuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiXCI7XHJcbiAgICAgICAgaWYoY2hhcHRlcklkKXtcclxuICAgICAgICAgICAgdXJsID0gJy9hY2NvdW50L3VwZGF0ZV9jaGFwdGVyLyc7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgPSAn56ysJyArIG51bWJlciArICfnq6DlsI/or7TnvJbovpHmiJDlip/vvIEnXHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICB1cmwgPSAnL2FjY291bnQvYWRkX2NoYXB0ZXIvJztcclxuICAgICAgICAgICAgbWVzc2FnZSA9ICfnrKwnICsgbnVtYmVyICsgJ+eroOWwj+ivtOWPkeW4g+aIkOWKn++8gSdcclxuICAgICAgICB9XHJcbiAgICAgICAgbXlhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogdXJsLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd0aXRsZSc6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ25vdmVsX2lkJzogbm92ZWxJZCxcclxuICAgICAgICAgICAgICAgICdudW1iZXInOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAnaWQnOiBjaGFwdGVySWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKG1lc3NhZ2UsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy4uLy4uLy4uLy4uJztcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8g5Yid5aeL5YyWVUVkaXRvclxyXG5DaGFwdGVyLnByb3RvdHlwZS5pbml0VUVkaXRvciA9IGZ1bmN0aW9uKCl7XHJcbiAgICB3aW5kb3cudWUgPSBVRS5nZXRFZGl0b3IoXCJlZGl0b3JcIix7XHJcbiAgICAgICAgJ2luaXRpYWxGcmFtZUhlaWdodCc6IDQwMCxcclxuICAgICAgICAnc2VydmVyVXJsJzogJy91ZWRpdG9yL3VwbG9hZC8nLFxyXG4gICAgfSlcclxufTtcclxuXHJcbkNoYXB0ZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCl7XHJcbiAgICB0aGlzLmluaXRVRWRpdG9yKCk7XHJcbiAgICB0aGlzLmxpc3RlblN1Ym1pdEV2ZW50KCk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgY2hhcHRlciA9IG5ldyBDaGFwdGVyKCk7XHJcbiAgICBjaGFwdGVyLnJ1bigpO1xyXG4gICAgQ2hhcHRlci5wcm9ncmVzc0dyb3VwID0gJCgnI3Byb2dyZXNzLWdyb3VwJyk7XHJcbiAgICBDaGFwdGVyLnByb2dyZXNzQmFyID0gJCgnLnByb2dyZXNzLWJhcicpO1xyXG59KTsiXSwibmFtZXMiOlsiQ2hhcHRlciIsInByb3RvdHlwZSIsImxpc3RlblN1Ym1pdEV2ZW50IiwiJCIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImJ0biIsInRoaXMiLCJjaGFwdGVySWQiLCJhdHRyIiwibm92ZWxJZCIsInRpdGxlIiwidmFsIiwiY29udGVudCIsIndpbmRvdyIsInVlIiwiZ2V0Q29udGVudCIsIm51bWJlciIsInRleHQiLCJ1cmwiLCJtZXNzYWdlIiwibXlhamF4IiwicG9zdCIsImRhdGEiLCJub3ZlbF9pZCIsImlkIiwic3VjY2VzcyIsInJlc3VsdCIsInhmemFsZXJ0IiwiYWxlcnRTdWNjZXNzIiwibG9jYXRpb24iLCJjb25zb2xlIiwibG9nIiwiaW5pdFVFZGl0b3IiLCJVRSIsImdldEVkaXRvciIsImluaXRpYWxGcmFtZUhlaWdodCIsInNlcnZlclVybCIsInJ1biIsInByb2dyZXNzR3JvdXAiLCJwcm9ncmVzc0JhciJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsV0FNVEEsUUFBUUMsVUFBVUMsa0JBQW9CLFdBQ2xCQyxFQUFFLGVBQ1JDLE1BQU0sU0FBU0MsR0FDckJBLEVBQU1DLGlCQUNOLElBQUlDLEVBQU1KLEVBQUVLLE1BQ1JDLEVBQVlGLEVBQUlHLEtBQUssbUJBQ3JCQyxFQUFVSixFQUFJRyxLQUFLLGlCQUNuQkUsRUFBUVQsRUFBRSx1QkFBdUJVLE1BQ2pDQyxFQUFVQyxPQUFPQyxHQUFHQyxhQUNwQkMsRUFBU2YsRUFBRSxXQUFXZ0IsT0FDdEJDLEVBQU0sR0FDTkMsRUFBVSxHQUdWQSxFQUZEWixHQUNDVyxFQUFNLDJCQUNJLElBQU1GLEVBQVMsYUFFekJFLEVBQU0sd0JBQ0ksSUFBTUYsRUFBUyxZQUU3QkksT0FBT0MsS0FBSyxDQUNSSCxJQUFPQSxFQUNQSSxLQUFRLENBQ0paLE1BQVNBLEVBQ1RFLFFBQVdBLEVBQ1hXLFNBQVlkLEVBQ1pPLE9BQVVBLEVBQ1ZRLEdBQU1qQixHQUVWa0IsUUFBVyxTQUFTQyxHQUNNLE1BQW5CQSxFQUFhLEtBQ1pDLFNBQVNDLGFBQWFULEVBQVEsV0FDMUJOLE9BQU9nQixTQUFXLGdCQUd0QkMsUUFBUUMsSUFBSUwsU0FRaEM1QixRQUFRQyxVQUFVaUMsWUFBYyxXQUM1Qm5CLE9BQU9DLEdBQUttQixHQUFHQyxVQUFVLFNBQVMsQ0FDOUJDLG1CQUFzQixJQUN0QkMsVUFBYSxzQkFJckJ0QyxRQUFRQyxVQUFVc0MsSUFBTSxXQUNwQi9CLEtBQUswQixjQUNMMUIsS0FBS04scUJBR1RDLEVBQUUsWUFDZ0IsSUFBSUgsU0FDVnVDLE1BQ1J2QyxRQUFRd0MsY0FBZ0JyQyxFQUFFLG1CQUMxQkgsUUFBUXlDLFlBQWN0QyxFQUFFIn0=
